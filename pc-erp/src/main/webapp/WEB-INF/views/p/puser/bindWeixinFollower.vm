#set($layout="/layout/everyday_weixin.vm")
<div class="bd" >

    <div class="weui_tab">
        <div class="weui_navbar">
            <div class="weui_navbar_item weui_bar_item_on"
                 id="tab_login"
            >
                登录
            </div>
            <div class="weui_navbar_item"
                 id="tab_regist"
            >
                注册
            </div>
        </div>

        <div class="weui_tab_bd">

            <div id="loginpanel" >
                <form id="loginForm" onsubmit="return false;">
                    <div class="hd">
                        <h1 class="page_title">#springMessage("addon.wx.login.title")</h1>
                    </div>

                    <div class="bd">
                        <div class="weui_cells_title">登录后绑定</div>

                        <div class="weui_cells weui_cells_form">
                            <div class="weui_cell">
                                <div class="weui_cell_hd"><label class="weui_label">账号</label></div>
                                <div class="weui_cell_bd weui_cell_primary">
                                    <input class="weui_input" type="text" placeholder="请输入账号"
                                        data-validate='{"required":true, "pattern":"\/^[0-9]{6,10}$\/g"}'
                                    />
                                </div>
                                <div class="weui_cell_ft">
                                    <i class="weui_icon_warn"></i>
                                </div>
                            </div>

                            <div class="weui_cell">
                                <div class="weui_cell_hd"><label class="weui_label">密码</label></div>
                                <div class="weui_cell_bd weui_cell_primary">
                                    <input class="weui_input" type="password" placeholder="请输入密码"
                                       data-validate='{"required":true}'
                                    />
                                </div>
                                <div class="weui_cell_ft">
                                    <i class="weui_icon_warn"></i>
                                </div>
                            </div>

                            <div class="weui_cell weui_cell_switch">
                                <div class="weui_cell_hd weui_cell_primary">记住密码</div>
                                <div class="weui_cell_ft">
                                    <input class="weui_switch" type="checkbox"/>
                                </div>
                            </div>
                        </div>

                        <div class="weui_btn_area">
                            <input type="submit" class="weui_btn weui_btn_primary" value="登录并绑定" />
##                            <a class="weui_btn weui_btn_primary"  id="login_btn"></a>
                        </div>

                    </div>
                </form>
            </div>

            <div id="registpanel" class="hide">
                <form id="registForm" onsubmit="return false;">
                    <div class="hd">
                        <h1 class="page_title">#springMessage("addon.wx.regist.title")</h1>
                    </div>

                    <div class="bd">
                    <div class="weui_cells_title">注册后绑定</div>

                    <div class="weui_cells weui_cells_form">

                        <div class="weui_cell">
                            <div class="weui_cell_hd"><label class="weui_label">账号</label></div>
                            <div class="weui_cell_bd weui_cell_primary">
                                <input class="weui_input" type="text" placeholder="请输入账号"
                                   data-validate='{"required":true}'
                                />
                            </div>
                            <div class="weui_cell_ft">
                                <i class="weui_icon_warn"></i>
                            </div>
                        </div>

                        <div class="weui_cell">
                            <div class="weui_cell_hd"><label class="weui_label">密码</label></div>
                            <div class="weui_cell_bd weui_cell_primary">
                                <input class="weui_input" type="password" placeholder="请输入密码"
                                   data-validate='{"required":true}'
                                />
                            </div>
                            <div class="weui_cell_ft">
                                <i class="weui_icon_warn"></i>
                            </div>
                        </div>

                        <div class="weui_cell weui_cell_switch">
                            <div class="weui_cell_hd"><label class="weui_label">确认</label></div>
                            <div class="weui_cell_bd weui_cell_primary">
                                <input class="weui_input" type="password" placeholder="请再次输入密码"
                                   data-validate='{"required":true}'
                                />
                            </div>
                            <div class="weui_cell_ft">
                                <i class="weui_icon_warn"></i>
                            </div>
                        </div>
                    </div>

                    <div class="weui_btn_area">
                        <a class="weui_btn weui_btn_primary" href="javascript:" >注册并绑定</a>
                    </div>

                </div>
                </form>
            </div>

        </div>

    </div>
</div>



<script type="text/javascript">

require([   "jquery","js/everyday/weui.validate","js/app/i18n_zh_CN"
	,"template"],
	function(jQuery,  validate,                   i18n){

        jQuery("#tab_login").click(function(){
            jQuery("#tab_regist").removeClass("weui_bar_item_on");
            jQuery(this).addClass("weui_bar_item_on");
            jQuery("#registpanel").hide();
            jQuery("#loginpanel").show();
        });

        jQuery("#tab_regist").click(function(){
            jQuery("#tab_login").removeClass("weui_bar_item_on");
            jQuery(this).addClass("weui_bar_item_on");
            jQuery("#registpanel").show();
            jQuery("#loginpanel").hide();
        });

        validate.target("loginForm");
        validate.target("registForm");

        jQuery("#loginForm input[type=text]:first").focus();

        jQuery("#loginForm").submit(function () {
            //TODO login

            return ;

        });

        jQuery("#registForm").submit(function(){
            //TODO regist
        });

##		jQuery("#formLogin").validator();
##
##		jQuery("#login_btn").click(function(e){
##
##			if(jQuery("#login_btn").hasClass("disabled")){
##				noty({
##					text:i18n.get('FORM_INVALID'),
##					type:"warning",
##					timeout:2500
##				});
##				return false;
##			}
##
##			sysUser.doLogin(jQuery("#formLogin"), "$!{refurl}");
##
##			return false;
##		});

	}
);

</script>
##
##<script type="text/html" id="login_tpl">
##    <div class="weui_tab_bd" id="loginpanel">
##
##        <div class="hd">
##            <h1 class="page_title">登录</h1>
##        </div>
##
##        <div class="bd">
##            <div class="weui_cells_title">登录后绑定</div>
##
##            <div class="weui_cells weui_cells_form">
##                <div class="weui_cell">
##                    <div class="weui_cell_hd"><label class="weui_label">账号</label></div>
##                    <div class="weui_cell_bd weui_cell_primary">
##                        <input class="weui_input" type="number" pattern="[0-9]*" placeholder="请输入账号"/>
##                    </div>
##                </div>
##            ##                </div>
##            ##
##            ##                <div class="weui_cells weui_cells_form">
##                <div class="weui_cell">
##                    <div class="weui_cell_hd"><label class="weui_label">密码</label></div>
##                    <div class="weui_cell_bd weui_cell_primary">
##                        <input class="weui_input" type="password" placeholder="请输入密码"/>
##                    </div>
##                </div>
##
##                <div class="weui_cell weui_cell_switch">
##                    <div class="weui_cell_hd weui_cell_primary">记住密码</div>
##                    <div class="weui_cell_ft">
##                        <input class="weui_switch" type="checkbox"/>
##                    </div>
##                </div>
##            </div>
##
##            <div class="weui_btn_area">
##                <a class="weui_btn weui_btn_primary" href="javascript:" id="showTooltips">登录并绑定</a>
##            </div>
##
##        </div>
##    </div>
##</script>
##
##<script type="text/html" id="regist_tpl">
##
##    <div class="weui_tab_bd" id="registpanel">
##
##        <div class="hd">
##            <h1 class="page_title">注册</h1>
##        </div>
##
##        <div class="bd">
##            <div class="weui_cells_title">注册后绑定</div>
##
##            <div class="weui_cells weui_cells_form">
##
##                <div class="weui_cell">
##                    <div class="weui_cell_hd"><label class="weui_label">账号</label></div>
##                    <div class="weui_cell_bd weui_cell_primary">
##                        <input class="weui_input" type="number" pattern="[0-9]*" placeholder="请输入账号"/>
##                    </div>
##                </div>
##
##                <div class="weui_cell">
##                    <div class="weui_cell_hd"><label class="weui_label">密码</label></div>
##                    <div class="weui_cell_bd weui_cell_primary">
##                        <input class="weui_input" type="password" placeholder="请输入密码"/>
##                    </div>
##                </div>
##
##                <div class="weui_cell weui_cell_switch">
##                    <div class="weui_cell_hd"><label class="weui_label">确认</label></div>
##                    <div class="weui_cell_bd weui_cell_primary">
##                        <input class="weui_input" type="password" placeholder="请确认密码"/>
##                    </div>
##                </div>
##            </div>
##
##            <div class="weui_btn_area">
##                <a class="weui_btn weui_btn_primary" href="javascript:" >注册并绑定</a>
##            </div>
##
##        </div>
##    </div>
##
##</script>